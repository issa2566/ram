@echo off
chcp 65001 > nul
color 0A
cls

echo.
echo    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo    โ                                                       โ
echo    โ         ๐ ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช PostgreSQL        โ
echo    โ                                                       โ
echo    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

echo    [1/2] ุงูุชุญูู ูู ุงููููุงุช...
cd /d "%~dp0backend"
if not exist "test-db-connection.js" (
    echo          โ ุฎุทุฃ: ููู ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏ!
    pause
    exit /b 1
)
echo          โ ุงูููู ููุฌูุฏ

echo.
echo    [2/2] ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช...
echo          ๐ ุฌุงุฑู ุงุฎุชุจุงุฑ ูููุงุช ุงููุฑูุฑ ุงููุฎุชููุฉ...
echo.
node test-db-connection.js

echo.
echo    ๐ ุงููุชุงุฆุฌ:
echo       โข ุฅุฐุง ูุฌุญ ุงูุงุฎุชุจุงุฑ: ุงุณุชุจุฏู ูุญุชูู db.js ุจูุญุชูู db-fixed.js
echo       โข ุฅุฐุง ูุดู ุงูุงุฎุชุจุงุฑ: ุชุฃูุฏ ูู ุชุดุบูู PostgreSQL
echo.

pause

